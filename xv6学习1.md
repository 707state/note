---
title: "xv6学习指南1"
author: "jask"
date: "09/27/2024"
output: pdf_document
header-includes:
  - \usepackage{fontspec}
  - \usepackage{xeCJK}
  - \setmainfont{ComicShannsMono Nerd Font}
  - \setCJKmainfont{LXGW WenKai}  # 替换为可用的字体
  - \setCJKmonofont{LXGW WenKai Mono}
  - \usepackage[top=1cm, bottom=1cm, left=1cm, right=1cm]{geometry}
---

# 进程与内存

一个xv6的进程包括 user-space 内存和内核拥有的每一个进程的状态。

xv6通过时间分片在可用的CPU之间切换等待执行的进程。当一个进程不在执行时，系统会保存它的CPU寄存器状态，并在下次运行该进程时恢复这些状态。同时，内核为每个进程分配一个唯一的进程标识符（PID），用于标识和管理进程。

fork会创建一个新的进程，拥有与调用进程完全相同的内容。

在1父进程返回子进程pid, 在子进程返回0。

exit调用会退出子进程结束执行。

# I/O和文件描述符

fd是一个integer标识一个内核管理的事务，每个进程都有自己私有的文件描述符表，从零开始索引，这意味着每个进程可以独立管理自己的文件描述符，而不干扰其他进程。

# 管道

管道是一个小的内核缓冲区作为fd暴露给进程，一个读一个写。


