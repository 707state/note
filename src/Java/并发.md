# 线框-管道模型

设计和理解并发系统最好的方式是使用图形。我们将这种技术称为线框–管道 （box-andchannel）模型 。设想一个使用整型的简单场景，我们希望对之前计算f(x)+g(x) 的例子做一个归纳。在你想要使用参数x 调用方法（或函数）p ，并将计算的结果作为参数传递给函数q1 和q2 ，接着使这两个调用的结果去调用方法（或函数）r ，然后打印结果（为了避免混乱，这里不再区分类C 的方法m以及它关联的函数C::m ）。

# CompletableFuture和结合器

Future 接口的一个问题是它是一个接口，你需要思考如何设计你的并发代码结构才能采用Future 实你的任务。不过，历史上，除了FutureTask 这一实现之外，Future 也提供了其他几个动作：创建一Future 指定它执行某个计算任务，执行任务，等待执行终止，等等。

# 发布-订阅以及反应式编程

Future 和CompletableFuture 的思维模式是计算的执行是独立且并发的。使用get() 方法可以在执行束后获取Future 对象的执行结果。因此，Future 是一个一次性 对象，它只能从头到尾执行代码一次。

与此相反，反应式编程的思维模式是类Future 的对象随着时间的推移可以产生很多的结果。

主要有三个概念：

1. 订阅者 可以订阅的发布者。
2. 名为订阅的连接。
3. 消息 （也叫事件 ），它们通过连接传输。

由于数据的流动是从发布者（生产者）流向订阅者（消费者），因此程序员经常使用诸向上流 （upstream）和向下流 （downstream）这样的术语。前面的示例代码中，向流onNext() 方法接收的数据newValue 是由notifyAllSubscribers() 方法传递给向下游onNext() 方法的。
