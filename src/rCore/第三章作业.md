# 作业

获取任务信息

ch3 中，我们的系统已经能够支持多个任务分时轮流运行，我们希望引入一个新的系统调用 sys_task_info 以获取当前任务的信息，定义如下：

```c++ 
fn sys_task_info(ti: *mut TaskInfo) -> isize;
```

syscall ID: 410

查询当前正在执行的任务信息，任务信息包括任务控制块相关信息（任务状态）、任务使用的系统调用及调用次数、系统调用时刻距离任务第一次被调度时刻的时长（单位ms）。

# 思路

系统调用获取当前正在运行的任务的TaskInfo, 类似于xv6当中的myproc()调用。

通过TaskManager来获取当前正在运行的任务，然后填充这一部分的信息。

具体流程：

1. TaskManager中的inner包含了所有的tasks和正在运行的current_task，通过这里获得当前运行任务。

2. status赋值，syscall_num赋值

这里，syscall_num需要新开一个数组，在TaskControlBlock之中，\[u32;MAX_SYSCALL_NUM\];



