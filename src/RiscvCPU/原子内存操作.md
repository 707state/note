# RISCV原子内存操作
1. 基本指令集提供了以FENCE指令提供的最小支援，FENCE R, RW提供了获取，FENCE RW, W提供释放。

2. 原子操作子集（A）支持了load-reserved和store-conditional,lr执行加载并为尝试保存该地址，仅当该保留被来自另一个来源的干预型写入破坏时，才会执行对保留地址的store-conditional。如果写入成功，则将0放入目标寄存器；如果失败，就医非零值表示需重试操作。

3. 第二组原子指令集（AMO）执行 Read-modify-write 操作，读取到目标寄存器，然后执行读出值和来源暂存器之间的操作，然后写入结果。将记忆屏障设计为可选的，允许了多个操作的组合。每个 AMO 的操作码中都有“获取”及“释放”位元，用于启用可选的记忆体屏障。 


